{"ast":null,"code":"import cssjanus from 'cssjanus';\nimport { COMMENT, compile, DECLARATION, IMPORT, RULESET, serialize, strlen, KEYFRAMES, MEDIA, SUPPORTS } from 'stylis';\n\nfunction stringifyPreserveComments(element, index, children) {\n  switch (element.type) {\n    case IMPORT:\n    case DECLARATION:\n    case COMMENT:\n      return element.return = element.return || element.value;\n\n    case RULESET:\n      {\n        element.value = Array.isArray(element.props) ? element.props.join(',') : element.props;\n\n        if (Array.isArray(element.children)) {\n          element.children.forEach(function (x) {\n            if (x.type === COMMENT) x.children = x.value;\n          });\n        }\n      }\n  }\n\n  var serializedChildren = serialize(Array.prototype.concat(element.children), stringifyPreserveComments);\n  return strlen(serializedChildren) ? element.return = element.value + '{' + serializedChildren + '}' : '';\n}\n\nfunction stylisRTLPlugin(element, index, children, callback) {\n  if (element.type === KEYFRAMES || element.type === SUPPORTS || element.type === RULESET && (!element.parent || element.parent.type === MEDIA || element.parent.type === RULESET)) {\n    var stringified = cssjanus.transform(stringifyPreserveComments(element, index, children));\n    element.children = stringified ? compile(stringified)[0].children : [];\n    element.return = '';\n  }\n} // stable identifier that will not be dropped by minification unless the whole module\n// is unused\n\n\nObject.defineProperty(stylisRTLPlugin, 'name', {\n  value: 'stylisRTLPlugin'\n});\nexport default stylisRTLPlugin;","map":{"version":3,"sources":["../src/stylis-rtl.ts"],"names":[],"mappings":"AAAA,OAAO,QAAP,MAAqB,UAArB;AACA,SACE,OADF,EAEE,OAFF,EAGE,WAHF,EAIE,MAJF,EAKE,OALF,EAME,SANF,EAOE,MAPF,EASE,SATF,EAUE,KAVF,EAWE,QAXF,QAYO,QAZP;;AAgBA,SAAS,yBAAT,CACE,OADF,EAEE,KAFF,EAGE,QAHF,EAG+B;AAE7B,UAAQ,OAAO,CAAC,IAAhB;AACE,SAAK,MAAL;AACA,SAAK,WAAL;AACA,SAAK,OAAL;AACE,aAAQ,OAAO,CAAC,MAAR,GAAiB,OAAO,CAAC,MAAR,IAAkB,OAAO,CAAC,KAAnD;;AACF,SAAK,OAAL;AAAc;AACZ,QAAA,OAAO,CAAC,KAAR,GAAgB,KAAK,CAAC,OAAN,CAAc,OAAO,CAAC,KAAtB,IAA+B,OAAO,CAAC,KAAR,CAAc,IAAd,CAAmB,GAAnB,CAA/B,GAAyD,OAAO,CAAC,KAAjF;;AAEA,YAAI,KAAK,CAAC,OAAN,CAAc,OAAO,CAAC,QAAtB,CAAJ,EAAqC;AACnC,UAAA,OAAO,CAAC,QAAR,CAAiB,OAAjB,CAAyB,UAAC,CAAD,EAAE;AACzB,gBAAI,CAAC,CAAC,IAAF,KAAW,OAAf,EAAwB,CAAC,CAAC,QAAF,GAAa,CAAC,CAAC,KAAf;AACzB,WAFD;AAGD;AACF;AAbH;;AAgBA,MAAM,kBAAkB,GAAG,SAAS,CAAC,KAAK,CAAC,SAAN,CAAgB,MAAhB,CAAuB,OAAO,CAAC,QAA/B,CAAD,EAA2C,yBAA3C,CAApC;AAEA,SAAO,MAAM,CAAC,kBAAD,CAAN,GAA8B,OAAO,CAAC,MAAR,GAAiB,OAAO,CAAC,KAAR,GAAgB,GAAhB,GAAsB,kBAAtB,GAA2C,GAA1F,GAAiG,EAAxG;AACD;;AAED,SAAS,eAAT,CACE,OADF,EAEE,KAFF,EAGE,QAHF,EAIE,QAJF,EAI+B;AAE7B,MACE,OAAO,CAAC,IAAR,KAAiB,SAAjB,IACA,OAAO,CAAC,IAAR,KAAiB,QADjB,IAEC,OAAO,CAAC,IAAR,KAAiB,OAAjB,KAA6B,CAAC,OAAO,CAAC,MAAT,IAAmB,OAAO,CAAC,MAAR,CAAe,IAAf,KAAwB,KAA3C,IAAoD,OAAO,CAAC,MAAR,CAAe,IAAf,KAAwB,OAAzG,CAHH,EAIE;AACA,QAAM,WAAW,GAAG,QAAQ,CAAC,SAAT,CAAmB,yBAAyB,CAAC,OAAD,EAAU,KAAV,EAAiB,QAAjB,CAA5C,CAApB;AACA,IAAA,OAAO,CAAC,QAAR,GAAmB,WAAW,GAAG,OAAO,CAAC,WAAD,CAAP,CAAqB,CAArB,EAAwB,QAA3B,GAAsC,EAApE;AAEA,IAAA,OAAO,CAAC,MAAR,GAAiB,EAAjB;AACD;AACF,C,CAED;AACA;;;AACA,MAAM,CAAC,cAAP,CAAsB,eAAtB,EAAuC,MAAvC,EAA+C;AAAE,EAAA,KAAK,EAAE;AAAT,CAA/C;AAEA,eAAe,eAAf","sourceRoot":"","sourcesContent":["import cssjanus from 'cssjanus';\nimport { COMMENT, compile, DECLARATION, IMPORT, RULESET, serialize, strlen, KEYFRAMES, MEDIA, SUPPORTS, } from 'stylis';\nfunction stringifyPreserveComments(element, index, children) {\n    switch (element.type) {\n        case IMPORT:\n        case DECLARATION:\n        case COMMENT:\n            return (element.return = element.return || element.value);\n        case RULESET: {\n            element.value = Array.isArray(element.props) ? element.props.join(',') : element.props;\n            if (Array.isArray(element.children)) {\n                element.children.forEach(function (x) {\n                    if (x.type === COMMENT)\n                        x.children = x.value;\n                });\n            }\n        }\n    }\n    var serializedChildren = serialize(Array.prototype.concat(element.children), stringifyPreserveComments);\n    return strlen(serializedChildren) ? (element.return = element.value + '{' + serializedChildren + '}') : '';\n}\nfunction stylisRTLPlugin(element, index, children, callback) {\n    if (element.type === KEYFRAMES ||\n        element.type === SUPPORTS ||\n        (element.type === RULESET && (!element.parent || element.parent.type === MEDIA || element.parent.type === RULESET))) {\n        var stringified = cssjanus.transform(stringifyPreserveComments(element, index, children));\n        element.children = stringified ? compile(stringified)[0].children : [];\n        element.return = '';\n    }\n}\n// stable identifier that will not be dropped by minification unless the whole module\n// is unused\nObject.defineProperty(stylisRTLPlugin, 'name', { value: 'stylisRTLPlugin' });\nexport default stylisRTLPlugin;\n//# sourceMappingURL=stylis-rtl.js.map"]},"metadata":{},"sourceType":"module"}